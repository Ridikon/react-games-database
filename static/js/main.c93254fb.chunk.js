(this["webpackJsonpgames-database"]=this["webpackJsonpgames-database"]||[]).push([[0],{18:function(e,t,a){e.exports={button:"Button_button__32FwK",disabled:"Button_disabled__1OC_4",small:"Button_small__523vy",large:"Button_large__1nx1r",success:"Button_success__qdwm8",default:"Button_default__4hIeI",warning:"Button_warning__1_o8s",primary:"Button_primary__CVuDV"}},21:function(e,t,a){e.exports={range:"Range_range__bb41y",rangeItem:"Range_rangeItem__Gbq4C"}},22:function(e,t,a){e.exports={aside:"Aside_aside__73TjM",visible:"Aside_visible__3R08_",toggleBtn:"Aside_toggleBtn__IHCxn"}},23:function(e,t,a){e.exports={listItem:"ListItem_listItem__yhvKp",image:"ListItem_image__2qj4a",info:"ListItem_info__3Tamu"}},29:function(e,t,a){e.exports={Loader:"Loader_Loader__3cxM3","lds-ripple":"Loader_lds-ripple__20g5-",center:"Loader_center__3DNW3"}},41:function(e,t,a){e.exports={Select:"Select_Select__YlYEA"}},43:function(e,t,a){e.exports={filter:"Filter_filter__2n71e"}},44:function(e,t,a){e.exports={Input:"Input_Input__YX4Xo",invalid:"Input_invalid__1O3wS"}},46:function(e,t,a){e.exports={list:"List_list__3N6Zs"}},47:function(e,t,a){},48:function(e,t,a){e.exports={title:"Title_title__1jPs1"}},49:function(e,t,a){e.exports=a(78)},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=a(16),i=a(10),s=a(14),u=a(40),f=a(2);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var g={games:{},gamesRange:{}};function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var O={loading:!1};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v={category:"games"};function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j={platforms:{},platformsRange:{}};function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var R={title:""};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var T={sortedAt:"",range:[],searchText:""},C=Object(s.c)({games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GAMES":return p({},e,{games:t.payload});case"SET_GAMES_RANGE":return p({},e,{gamesRange:t.payload});default:return e}},platforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLATFORMS":return h({},e,{platforms:t.payload});case"SET_PLATFORMS_RANGE":return h({},e,{platformsRange:t.payload});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_START":return b({},e,{loading:!0});case"LOADING_END":return b({},e,{loading:!1});default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_CATEGORY":return y({},e,{category:t.payload});default:return e}},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TITLE":return w({},e,{title:t.payload});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_ASC":return P({},e,{sortedAt:"asc"});case"SORT_DESC":return P({},e,{sortedAt:"desc"});case"SORT_RANGE":return P({},e,{range:t.payload});case"SORT_RESET":return P({},e,{sortedAt:T.sortedAt});case"QUERY_SEARCH":return P({},e,{searchText:t.payload});case"FILTER_RESET":return T;default:return e}}}),D=a(15),x=a(9),N=a(3),L=a.n(N),I=a(13),k=a.n(I),G=a(18),F=a.n(G),M=function(e){var t,a=e.children,n=e.disabled,c=e.typeColor,o=e.size,l=e.type,i=e.onClick,s=k()((t={},Object(f.a)(t,F.a.button,!0),Object(f.a)(t,F.a[c],c),Object(f.a)(t,F.a[o],o),Object(f.a)(t,F.a.disabled,n),t));return r.a.createElement("button",{onClick:i,type:l,disabled:n,className:s},a)};M.defaultProps={children:"",disabled:!1,typeColor:"primary",size:"large",type:"button"};var B=M,V=a(41),H=a.n(V),Y=function(e){var t=e.label,a=e.value,n=e.onChange,c=e.options,o="".concat(t,"-").concat(Math.random());return r.a.createElement("div",{className:H.a.Select},r.a.createElement("label",{htmlFor:o},t),r.a.createElement("select",{id:o,value:a,onChange:function(e){n(e.target.value)}},c.map(function(e,t){return r.a.createElement("option",{key:e.value+t,value:e.value},e.text)})))};Y.defaultProps={label:"Label",value:"",onChange:function(){return null},options:[]};var z=Y,X=a(21),q=a.n(X),U=function(e){var t=e.label,a=e.min,c=e.max,o=e.step,l=e.rangeValue,i=Object(n.useState)(a),s=Object(x.a)(i,2),u=s[0],f=s[1],m=Object(n.useState)(c),p=Object(x.a)(m,2),g=p[0],d=p[1],b="".concat(t,"-").concat(Math.random());Object(n.useEffect)(function(){f(a),d(c)},[a,c]);var O=Object(n.useCallback)(function(){l([u,g])},[u,g]);return r.a.createElement("div",{className:q.a.range},r.a.createElement("div",{className:q.a.rangeItem},r.a.createElement("label",{htmlFor:b},"Min ",t),r.a.createElement("input",{value:u,min:a,max:c,step:o,type:"number",id:b,onChange:function(e){f(e.target.value)}})),r.a.createElement("div",{className:q.a.rangeItem},r.a.createElement("label",{htmlFor:b},"Max ",t),r.a.createElement("input",{value:g,min:a,max:c,step:o,type:"number",id:b,onChange:function(e){d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(B,{size:"small",onClick:O},"Apply")))};U.defaultProps={label:"Label",rangeValue:function(){return null},min:"0",max:"11",step:"1"};var J=U,K=function(){return{type:"SORT_RESET"}},Q=a(42),W=a.n(Q).a.create({baseURL:"https://rawg-video-games-database.p.rapidapi.com/",headers:{"x-rapidapi-host":"rawg-video-games-database.p.rapidapi.com","x-rapidapi-key":"115ecc13d1msh99d3e41d85d9e9ep1bd89fjsn9289472a9c29"}}),Z=function(){return function(e){e({type:"LOADING_START"}),W.get("games").then(function(t){e({type:"LOADING_END"}),e({type:"FETCH_GAMES",payload:t.data})}).catch(function(t){e({type:"LOADING_END"}),console.log(t)})}},$=function(){return function(e){e({type:"LOADING_START"}),W.get("platforms").then(function(t){e({type:"LOADING_END"}),e({type:"FETCH_PLATFORMS",payload:t.data})}).catch(function(t){e({type:"LOADING_END"}),console.log(t)})}},ee=a(43),te=a.n(ee),ae=a(44),ne=a.n(ae),re=function(e){var t=e.type,a=e.label,n=e.value,c=e.onChange,o=e.placeholder,l=k()(Object(f.a)({},ne.a.Input,!0)),i="".concat(t,"-").concat(Math.random());return r.a.createElement("div",{className:l},r.a.createElement("label",{htmlFor:i},a),r.a.createElement("input",{id:i,type:t,value:n,onChange:c,placeholder:o}))};re.defaultProps={label:"Label",value:"",onChange:function(){return null},type:"text",placeholder:"type something"};var ce=re,oe={changeCategoryAction:function(e){return{type:"SELECT_CATEGORY",payload:e}},sortingAction:function(e){return function(t){switch(e){case"asc":t({type:"SORT_ASC"});break;case"desc":t({type:"SORT_DESC"});break;default:t({type:"SORT_RESET"})}}},setGamesRangeAction:function(e){return{type:"SET_GAMES_RANGE",payload:e}},setPlatformsRangeAction:function(e){return{type:"SET_PLATFORMS_RANGE",payload:e}},sortRangeAction:function(e){return{type:"SORT_RANGE",payload:e}},querySearchAction:function(e){return{type:"QUERY_SEARCH",payload:e}},filterResetAction:function(){return{type:"FILTER_RESET"}}},le=Object(i.b)(function(e){return{category:e.category.category,sortedAt:e.filter.sortedAt,searchText:e.filter.searchText,games:e.games.games,platforms:e.platforms.platforms,gamesRange:e.games.gamesRange,platformsRange:e.platforms.platformsRange}},oe)(function(e){var t=e.games,a=e.platforms,c=e.category,o=e.sortedAt,l=e.searchText,i=e.gamesRange,s=e.platformsRange,u=e.changeCategoryAction,f=e.sortingAction,m=e.setGamesRangeAction,p=e.setPlatformsRangeAction,g=e.sortRangeAction,d=e.querySearchAction,b=e.filterResetAction,O=Object(n.useState)([]),E=Object(x.a)(O,2),y=E[0],v=E[1];Object(n.useEffect)(function(){L.a.isEmpty(t)||m(_(t.results,"rating")),L.a.isEmpty(a)||p(_(a.results,"games_count"))},[t,a]),Object(n.useEffect)(function(){switch(c){case"games":v(i);break;case"platforms":v(s);break;default:return}},[c,i,s]);var _=function(e,t){var a=L.a.get(L.a.minBy(e,function(e){return e[t]}),t).toString(),n=L.a.get(L.a.maxBy(e,function(e){return e[t]}),t).toString(),r=(0^+a)===+a?"1":"0.01";return g([a,n]),{minRange:a,maxRange:n,step:r}};return r.a.createElement("div",{className:te.a.filter},r.a.createElement(z,{value:c,label:"Chose category",onChange:u,options:[{text:"Games",value:"games"},{text:"Platforms",value:"platforms"}]}),r.a.createElement(z,{value:o,label:"Sort",onChange:f,options:[{text:"ASC",value:"asc"},{text:"DESC",value:"desc"},{text:"Default",value:""}]}),r.a.createElement(J,{label:"games"===c?"rating":"games count",min:y.minRange,max:y.maxRange,step:y.step,rangeValue:function(e){g(e)}}),r.a.createElement(ce,{value:l,label:"Search",placeholder:"Enter the text",onChange:function(e){d(e.target.value)}}),r.a.createElement(B,{typeColor:"warning",size:"small",onClick:function(){b(),g([y.minRange,y.maxRange])}},"Reset filter"))}),ie=a(22),se=a.n(ie),ue=function(){var e,t=Object(n.useState)(!1),a=Object(x.a)(t,2),c=a[0],o=a[1],l=k()((e={},Object(f.a)(e,se.a.aside,!0),Object(f.a)(e,se.a.visible,c),e));return r.a.createElement("aside",{className:l},r.a.createElement("div",{className:se.a.toggleBtn},r.a.createElement(B,{size:"small",onClick:function(){o(!c)}},c?"Close":"Open"," filter")),r.a.createElement(le,null))},fe=a(23),me=a.n(fe),pe=function(e){var t=e.children,a=e.row,n=e.vCentered,c=e.hCentered,o=e.vEnd,l=e.hEnd,i=k()({"is-flex":!0,"direction-row":a,"direction-column":!a,"is-v-centered":n,"is-h-centered":c,"is-v-end":o,"is-h-end":l});return r.a.createElement("div",{className:i},t)};pe.defaultProps={row:!0,vCentered:!1,hCentered:!1,vEnd:!1,hEnd:!1};var ge=pe,de=function(e){var t=e.item,a=e.category,n=function(e){return r.a.createElement("div",{className:me.a.info},e)};return r.a.createElement("div",{className:me.a.listItem},r.a.createElement("div",null,r.a.createElement("div",{className:me.a.image},r.a.createElement("img",{src:t.background_image||t.image_background,alt:t.name}),"rating"in t?n("Rating: ".concat(t.rating)):"games_count"in t?n("Games count: ".concat(t.games_count)):null),r.a.createElement("div",null,r.a.createElement("span",null,t.name),t.released?r.a.createElement("div",null,r.a.createElement("span",null,"Released at: ",t.released)):null)),r.a.createElement(ge,{hEnd:!0},r.a.createElement(l.b,{to:"/view/".concat(a,"/").concat(t.id)},r.a.createElement(B,{size:"small"},"View"))))},be=a(46),Oe=a.n(be),Ee=function(e){var t=e.list,a=void 0===t?[]:t,n=e.category;return r.a.createElement("div",null,r.a.createElement("div",{className:Oe.a.list},a.map(function(e){return r.a.createElement(de,{category:n,key:e.id,item:e})})))},ye=function(e){return{type:"SET_TITLE",payload:e}},ve=a(47),_e=a.n(ve),he={fetchGames:Z,fetchPlatforms:$,changeTitleAction:ye,sortResetAction:K},je=Object(i.b)(function(e){return{category:e.category.category,sortedAt:e.filter.sortedAt,searchText:e.filter.searchText,sortedRange:e.filter.range,games:e.games.games,platforms:e.platforms.platforms}},he)(function(e){var t=e.sortedAt,a=e.searchText,c=e.sortedRange,o=e.games,l=e.platforms,i=e.category,s=e.fetchGames,u=e.fetchPlatforms,f=e.changeTitleAction,m=e.sortResetAction,p=Object(n.useState)([]),g=Object(x.a)(p,2),d=g[0],b=g[1],O=Object(n.useCallback)(function(){switch(i){case"games":return"rating";case"platforms":return"games_count";default:return""}},[i]),E=Object(n.useCallback)(function(e){return t?L.a.orderBy(e,[O()],[t]):e},[t]),y=Object(n.useCallback)(function(){switch(i){case"games":return o.results;case"platforms":return l.results;default:return[]}},[i]),v=Object(n.useCallback)(function(){var e=L.a.first(c),t=L.a.last(c),a=L.a.filter(E(y()),function(a){return a[O()]>=e&&a[O()]<=t});b(a)},[c]);return Object(n.useEffect)(function(){!function(){if(!a)return b(E(y()));var e=L.a.filter(E(y()),function(e){return e.name.toLowerCase().includes(a.toLowerCase())});b(e)}()},[a]),Object(n.useEffect)(function(){"games"===i&&L.a.isEmpty(o)&&s(),"platforms"===i&&L.a.isEmpty(l)&&u()},[i]),Object(n.useEffect)(function(){switch(m(),i){case"games":b(o.results),f("All games");break;case"platforms":b(l.results),f("All platforms");break;default:b([]),f("No data")}},[i]),Object(n.useEffect)(function(){t?b(E(d)):v()},[t]),Object(n.useEffect)(function(){v()},[c]),r.a.createElement("div",{className:_e.a.mainPage},r.a.createElement(ue,null),r.a.createElement("section",null,r.a.createElement(Ee,{list:d,category:i})))}),Se=a(29),we=a.n(Se),Re=function(){return r.a.createElement("div",{className:we.a.center},r.a.createElement("div",{className:we.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null)))},Ae=a(48),Pe=a.n(Ae),Te=function(e){var t=e.title;return r.a.createElement("div",{className:Pe.a.title},r.a.createElement("h1",null,t))},Ce=(a(77),{fetchGames:Z,fetchPlatforms:$,changeTitleAction:ye}),De=Object(i.b)(function(e){return{games:e.games.games,platforms:e.platforms.platforms}},Ce)(function(e){var t=e.games,a=e.platforms,c=e.fetchGames,o=e.fetchPlatforms,l=e.changeTitleAction,i=Object(n.useState)({}),s=Object(x.a)(i,2),u=s[0],f=s[1],m=Object(D.g)(),p=m.category,g=m.id;return Object(n.useEffect)(function(){var e=function(){switch(p){case"games":return L.a.find(t.results,function(e){return+e.id===+g});case"platforms":return L.a.find(a.results,function(e){return+e.id===+g});default:return{}}}();f(e),l(u.name)},[t,a]),Object(n.useEffect)(function(){"games"===p&&L.a.isEmpty(t)&&c(),"platforms"===p&&L.a.isEmpty(a)&&o()},[]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:u.background_image||u.image_background,alt:u.name})))});var xe=Object(i.b)(function(e){return{loading:e.loading.loading,title:e.title.title}})(function(e){var t=e.loading,a=e.title,n=r.a.createElement(D.d,null,r.a.createElement(D.b,{path:"/",exact:!0},r.a.createElement(je,null)),r.a.createElement(D.b,{path:"/view/:category/:id"},r.a.createElement(De,null)),r.a.createElement(D.a,{to:"/"}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{title:a}),t?r.a.createElement(Re,null):n)}),Ne="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.d,Le=Object(s.e)(C,Ne(Object(s.a)(u.a)));o.a.render(r.a.createElement(i.a,{store:Le},r.a.createElement(l.a,null,r.a.createElement(xe,null))),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.c93254fb.chunk.js.map